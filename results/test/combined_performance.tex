

% --- Combined Graph ---
\begin{figure}[H]
\centering
\rotatebox{270}{
\begin{tikzpicture}
\begin{axis}[
ybar,
bar width=4pt,
width=24cm,
height=12cm,
symbolic x coords={100-MLP_5th,100-BF_5th,100-MLP_10th,100-BF_10th,300-MLP_5th,300-BF_5th,300-MLP_10th,300-BF_10th,500-MLP_5th,500-BF_5th,500-MLP_10th,500-BF_10th,700-MLP_5th,700-BF_5th,700-MLP_10th,700-BF_10th,900-MLP_5th,900-BF_5th,900-MLP_10th,900-BF_10th,1100-MLP_5th,1100-BF_5th,1100-MLP_10th,1100-BF_10th,1300-MLP_5th,1300-BF_5th,1300-MLP_10th,1300-BF_10th,1500-MLP_5th,1500-BF_5th,1500-MLP_10th,1500-BF_10th,1700-MLP_5th,1700-BF_5th,1700-MLP_10th,1700-BF_10th,1900-MLP_5th,1900-BF_5th,1900-MLP_10th,1900-BF_10th,2100-MLP_5th,2100-BF_5th,2100-MLP_10th,2100-BF_10th,2300-MLP_5th,2300-BF_5th,2300-MLP_10th,2300-BF_10th,2500-MLP_5th,2500-BF_5th,2500-MLP_10th,2500-BF_10th,2700-MLP_5th,2700-BF_5th,2700-MLP_10th,2700-BF_10th,2900-MLP_5th,2900-BF_5th,2900-MLP_10th,2900-BF_10th,3100-MLP_5th,3100-BF_5th,3100-MLP_10th,3100-BF_10th,3300-MLP_5th,3300-BF_5th,3300-MLP_10th,3300-BF_10th,3500-MLP_5th,3500-BF_5th,3500-MLP_10th,3500-BF_10th,3700-MLP_5th,3700-BF_5th,3700-MLP_10th,3700-BF_10th,3900-MLP_5th,3900-BF_5th,3900-MLP_10th,3900-BF_10th}},
xtick={100-MLP_10th,300-MLP_10th,500-MLP_10th,700-MLP_10th,900-MLP_10th,1100-MLP_10th,1300-MLP_10th,1500-MLP_10th,1700-MLP_10th,1900-MLP_10th,2100-MLP_10th,2300-MLP_10th,2500-MLP_10th,2700-MLP_10th,2900-MLP_10th,3100-MLP_10th,3300-MLP_10th,3500-MLP_10th,3700-MLP_10th,3900-MLP_10th}},
xticklabels={100,300,500,700,900,1100,1300,1500,1700,1900,2100,2300,2500,2700,2900,3100,3300,3500,3700,3900}},
x tick label style={rotate=45,anchor=east},
xlabel={Test Cases},
ylabel={Probability},
legend style={at={(0.5,-0.25)},anchor=north,legend columns=4},
ymin=0,ymax=1.05,
enlargelimits=0.05,
scale only axis=true,
grid=major]
\addplot+[
  bar shift=-3.80pt,
  draw=none,
  fill=blue!80!90!white
] coordinates {
  (100-MLP_5th,0.005) (300-MLP_5th,0.014) (500-MLP_5th,0.017) (700-MLP_5th,0.020) (900-MLP_5th,0.023) (1100-MLP_5th,0.023) (1300-MLP_5th,0.025) (1500-MLP_5th,0.027) (1700-MLP_5th,0.027) (1900-MLP_5th,0.032) (2100-MLP_5th,0.029) (2300-MLP_5th,0.030) (2500-MLP_5th,0.034) (2700-MLP_5th,0.036) (2900-MLP_5th,nan) (3100-MLP_5th,0.042) (3300-MLP_5th,0.044) (3500-MLP_5th,0.044) (3700-MLP_5th,0.045) (3900-MLP_5th,0.047)
};
\addplot+[
  bar shift=-1.80pt,
  draw=none,
  fill=orange!80!90!white
] coordinates {
  (100-BF_5th,nan) (300-BF_5th,0.001) (500-BF_5th,0.000) (700-BF_5th,0.000) (900-BF_5th,0.001) (1100-BF_5th,0.000) (1300-BF_5th,0.001) (1500-BF_5th,0.002) (1700-BF_5th,0.001) (1900-BF_5th,0.002) (2100-BF_5th,0.001) (2300-BF_5th,0.000) (2500-BF_5th,0.001) (2700-BF_5th,0.000) (2900-BF_5th,0.000) (3100-BF_5th,0.001) (3300-BF_5th,0.000) (3500-BF_5th,0.000) (3700-BF_5th,0.001) (3900-BF_5th,0.003)
};
\addplot+[
  bar shift=0.20pt,
  draw=none,
  fill=green!80!90!white
] coordinates {
  (100-MLP_10th,0.000) (300-MLP_10th,0.000) (500-MLP_10th,0.000) (700-MLP_10th,0.000) (900-MLP_10th,0.000) (1100-MLP_10th,0.000) (1300-MLP_10th,0.001) (1500-MLP_10th,0.001) (1700-MLP_10th,0.002) (1900-MLP_10th,0.002) (2100-MLP_10th,0.003) (2300-MLP_10th,0.004) (2500-MLP_10th,0.003) (2700-MLP_10th,0.004) (2900-MLP_10th,0.005) (3100-MLP_10th,0.007) (3300-MLP_10th,0.007) (3500-MLP_10th,0.008) (3700-MLP_10th,0.009) (3900-MLP_10th,0.009)
};
\addplot+[
  bar shift=2.20pt,
  draw=none,
  fill=red!80!90!white
] coordinates {
  (100-BF_10th,nan) (300-BF_10th,nan) (500-BF_10th,0.001) (700-BF_10th,0.001) (900-BF_10th,0.000) (1100-BF_10th,0.001) (1300-BF_10th,0.001) (1500-BF_10th,0.001) (1700-BF_10th,0.000) (1900-BF_10th,0.001) (2100-BF_10th,0.001) (2300-BF_10th,0.000) (2500-BF_10th,0.001) (2700-BF_10th,0.001) (2900-BF_10th,0.001) (3100-BF_10th,0.000) (3300-BF_10th,0.000) (3500-BF_10th,0.000) (3700-BF_10th,0.002) (3900-BF_10th,0.001)
};
\addplot+[
  bar shift=-3.00pt,
  draw=none,
  fill=blue!80!55!white
] coordinates {
  (100-MLP_5th,0.044) (300-MLP_5th,0.137) (500-MLP_5th,0.222) (700-MLP_5th,0.254) (900-MLP_5th,0.270) (1100-MLP_5th,0.274) (1300-MLP_5th,0.275) (1500-MLP_5th,0.280) (1700-MLP_5th,0.290) (1900-MLP_5th,0.290) (2100-MLP_5th,0.287) (2300-MLP_5th,0.288) (2500-MLP_5th,0.290) (2700-MLP_5th,0.292) (2900-MLP_5th,0.290) (3100-MLP_5th,0.292) (3300-MLP_5th,0.293) (3500-MLP_5th,0.293) (3700-MLP_5th,0.295) (3900-MLP_5th,0.295)
};
\addplot+[
  bar shift=-1.00pt,
  draw=none,
  fill=orange!80!55!white
] coordinates {
  (100-BF_5th,nan) (300-BF_5th,0.000) (500-BF_5th,0.000) (700-BF_5th,0.001) (900-BF_5th,0.000) (1100-BF_5th,0.000) (1300-BF_5th,0.000) (1500-BF_5th,0.000) (1700-BF_5th,0.000) (1900-BF_5th,0.001) (2100-BF_5th,0.000) (2300-BF_5th,0.001) (2500-BF_5th,0.004) (2700-BF_5th,0.001) (2900-BF_5th,0.000) (3100-BF_5th,0.000) (3300-BF_5th,0.000) (3500-BF_5th,0.000) (3700-BF_5th,0.000) (3900-BF_5th,0.000)
};
\addplot+[
  bar shift=1.00pt,
  draw=none,
  fill=green!80!55!white
] coordinates {
  (100-MLP_10th,0.000) (300-MLP_10th,0.053) (500-MLP_10th,0.139) (700-MLP_10th,0.177) (900-MLP_10th,0.208) (1100-MLP_10th,0.207) (1300-MLP_10th,0.206) (1500-MLP_10th,0.215) (1700-MLP_10th,0.226) (1900-MLP_10th,0.219) (2100-MLP_10th,0.224) (2300-MLP_10th,0.224) (2500-MLP_10th,0.225) (2700-MLP_10th,0.231) (2900-MLP_10th,0.232) (3100-MLP_10th,0.232) (3300-MLP_10th,0.236) (3500-MLP_10th,0.235) (3700-MLP_10th,0.237) (3900-MLP_10th,0.237)
};
\addplot+[
  bar shift=3.00pt,
  draw=none,
  fill=red!80!55!white
] coordinates {
  (100-BF_10th,nan) (300-BF_10th,nan) (500-BF_10th,0.000) (700-BF_10th,0.000) (900-BF_10th,0.000) (1100-BF_10th,0.000) (1300-BF_10th,0.000) (1500-BF_10th,0.000) (1700-BF_10th,0.000) (1900-BF_10th,0.000) (2100-BF_10th,0.000) (2300-BF_10th,0.001) (2500-BF_10th,0.000) (2700-BF_10th,0.002) (2900-BF_10th,0.000) (3100-BF_10th,0.000) (3300-BF_10th,0.000) (3500-BF_10th,0.000) (3700-BF_10th,0.001) (3900-BF_10th,0.000)
};
\addplot+[
  bar shift=-2.20pt,
  draw=none,
  fill=blue!80!20!white
] coordinates {
  (100-MLP_5th,0.501) (300-MLP_5th,0.955) (500-MLP_5th,0.993) (700-MLP_5th,0.995) (900-MLP_5th,1.000) (1100-MLP_5th,1.000) (1300-MLP_5th,0.999) (1500-MLP_5th,1.000) (1700-MLP_5th,1.000) (1900-MLP_5th,1.000) (2100-MLP_5th,1.000) (2300-MLP_5th,1.000) (2500-MLP_5th,1.000) (2700-MLP_5th,1.000) (2900-MLP_5th,1.000) (3100-MLP_5th,1.000) (3300-MLP_5th,1.000) (3500-MLP_5th,1.000) (3700-MLP_5th,1.000) (3900-MLP_5th,1.000)
};
\addplot+[
  bar shift=-0.20pt,
  draw=none,
  fill=orange!80!20!white
] coordinates {
  (100-BF_5th,nan) (300-BF_5th,0.000) (500-BF_5th,0.001) (700-BF_5th,0.000) (900-BF_5th,0.000) (1100-BF_5th,0.000) (1300-BF_5th,0.000) (1500-BF_5th,0.000) (1700-BF_5th,0.000) (1900-BF_5th,0.000) (2100-BF_5th,0.012) (2300-BF_5th,0.000) (2500-BF_5th,0.000) (2700-BF_5th,0.004) (2900-BF_5th,0.023) (3100-BF_5th,0.017) (3300-BF_5th,0.035) (3500-BF_5th,0.008) (3700-BF_5th,0.017) (3900-BF_5th,0.005)
};
\addplot+[
  bar shift=1.80pt,
  draw=none,
  fill=green!80!20!white
] coordinates {
  (100-MLP_10th,0.029) (300-MLP_10th,0.540) (500-MLP_10th,0.790) (700-MLP_10th,0.863) (900-MLP_10th,0.950) (1100-MLP_10th,0.973) (1300-MLP_10th,0.978) (1500-MLP_10th,0.989) (1700-MLP_10th,0.996) (1900-MLP_10th,0.995) (2100-MLP_10th,0.999) (2300-MLP_10th,0.998) (2500-MLP_10th,0.998) (2700-MLP_10th,0.999) (2900-MLP_10th,1.000) (3100-MLP_10th,1.000) (3300-MLP_10th,1.000) (3500-MLP_10th,1.000) (3700-MLP_10th,1.000) (3900-MLP_10th,1.000)
};
\addplot+[
  bar shift=3.80pt,
  draw=none,
  fill=red!80!20!white
] coordinates {
  (100-BF_10th,nan) (300-BF_10th,nan) (500-BF_10th,0.000) (700-BF_10th,0.000) (900-BF_10th,0.000) (1100-BF_10th,0.000) (1300-BF_10th,0.000) (1500-BF_10th,0.000) (1700-BF_10th,0.001) (1900-BF_10th,0.000) (2100-BF_10th,0.000) (2300-BF_10th,0.000) (2500-BF_10th,0.000) (2700-BF_10th,0.000) (2900-BF_10th,0.000) (3100-BF_10th,0.000) (3300-BF_10th,0.000) (3500-BF_10th,0.000) (3700-BF_10th,0.000) (3900-BF_10th,0.000)
};
\legend{MLP_5th-BrokenPeterson, BF_5th-BrokenPeterson, MLP_10th-BrokenPeterson, BF_10th-BrokenPeterson, MLP_5th-DelayedWrite, BF_5th-DelayedWrite, MLP_10th-DelayedWrite, BF_10th-DelayedWrite, MLP_5th-LockOrderInversion, BF_5th-LockOrderInversion, MLP_10th-LockOrderInversion, BF_10th-LockOrderInversion}
\end{axis}
\end{tikzpicture}
}
\caption{Combined 5th and 10th Best Performance Across Problems}
\label{fig:combined_performance}
\end{figure}
